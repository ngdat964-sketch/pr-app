<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QR Access</title>

<style>
body{
    margin:0;
    background:#2f3347;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
    color:#fff;
}

/* ===== HEADER ===== */
.header{
    padding:16px 12px 10px;
    text-align:center;
    font-size:22px;
    font-weight:600;
    color:#f2d28b;
}

/* ===== CARD ===== */
.card{
    width:90%;
    max-width:360px;
    margin:0 auto;
}

/* ===== YELLOW BAR ===== */
.card-header{
    position:relative;
    background:#f5b400;
    color:#fff;
    text-align:center;
    padding:14px 10px;
    border-radius:16px 16px 0 0;
    font-size:15px;
    line-height:1.3;
}

/* khuyết trái + phải (bé & vuông nhẹ) */
.card-header::before,
.card-header::after{
    content:"";
    position:absolute;
    bottom:-7px;
    width:14px;
    height:14px;
    background:#2f3347;
    border-radius:4px;
}

.card-header::before{ left:14px; }
.card-header::after{ right:14px; }

/* ===== CHỮ TRUNG 3 DÒNG ===== */
.note span{ display:block; }
.note .line2{ margin-top:2px; }
.note .line3{
    margin-top:-10px;   /* sát dòng 2 */
    line-height:1.2;
}

/* ===== WHITE BOX ===== */
.card-body{
    background:#fff;
    color:#000;
    border-radius:0 0 20px 20px;
    padding:16px 12px 20px;
    text-align:center;
}

/* ===== TIME ===== */
.datetime{
    font-size:22px;
    font-weight:700;
    margin-bottom:10px;
}

/* ===== QR ===== */
.qr{
    position:relative;
    width:230px;
    height:230px;
    margin:0 auto;
}

.qr img{
    width:100%;
    height:100%;
    transition:transform .6s ease, filter .6s ease;
}

/* loading – chỉ mờ + scale */
.qr.loading img{
    filter:blur(2px);
    transform:scale(0.96);
}

.qr-loading{
    position:absolute;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
}

.qr.loading .qr-loading{
    display:flex;
}

.qr-loading::after{
    content:"";
    width:34px;
    height:34px;
    border:3px solid #ddd;
    border-top-color:#4caf50;
    border-radius:50%;
    animation:spin 1s linear infinite;
}

@keyframes spin{
    to{ transform:rotate(360deg); }
}

/* ===== TEXT ===== */
.refresh{
    margin-top:10px;
    color:#999;
    font-size:14px;
}

.timer{
    margin-top:6px;
    font-size:28px;
    font-weight:700;
    color:#3ac569;
}

/* ===== FOOTER NOTE ===== */
.footer{
    width:90%;
    max-width:360px;
    margin:18px auto 0;
    text-align:center;
    font-size:15px;
    color:#cfd3e0;
    line-height:1.7;
}
</style>
</head>

<body>

<div class="header">
    Nguyễn Đức Anh (V25101874)
</div>

<div class="card">

    <div class="card-header">
        <div class="note">
            <span>将二维码对准扫描器</span>
            <span class="line2">刷新出场</span>
            <span class="line3">请保持稳定</span>
        </div>
    </div>

    <div class="card-body">
        <div class="datetime" id="datetime"></div>

        <div class="qr" id="qrBox">
            <img id="qrImage" src="qr.png">
            <div class="qr-loading"></div>
        </div>

        <div class="refresh">刷新二维码</div>
        <div class="timer" id="timer">00:00:30</div>
    </div>
</div>

<div class="footer">
    尊敬的员工您好，您已进入企业涉密区域，<br>
    出于企业安全考虑，您的手机摄像头将被禁止拍摄，<br>
    感谢您的配合。
</div>

<script>
/* ===== DATETIME ===== */
function updateTime(){
    const d=new Date();
    const pad=n=>String(n).padStart(2,'0');
    document.getElementById('datetime').innerText=
        d.getFullYear()+"-"+pad(d.getMonth()+1)+"-"+pad(d.getDate())+" "+
        pad(d.getHours())+":"+pad(d.getMinutes())+":"+pad(d.getSeconds());
}
setInterval(updateTime,1000);
updateTime();

/* ===== TIMER ===== */
let time=30;
setInterval(()=>{
    time--;
    if(time<=0) time=30;
    const m=String(Math.floor(time/60)).padStart(2,'0');
    const s=String(time%60).padStart(2,'0');
    document.getElementById('timer').innerText=`00:${m}:${s}`;
},1000);

/* ===== QR LOADING EFFECT ===== */
function refreshQR(){
    const box=document.getElementById('qrBox');
    box.classList.add('loading');
    setTimeout(()=>{
        box.classList.remove('loading');
    },1200);
}
setInterval(refreshQR,5000);
</script>

</body>
</html>
