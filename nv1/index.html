<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QR Access</title>

<link rel="apple-touch-icon" href="icon.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">

<style>
body{
    margin:0;
    background:#2f3347;
    font-family:Arial,Helvetica,sans-serif;
    color:#fff;
    text-align:center;
}

/* ===== TÊN ===== */
.name{
    margin:22px 0 14px;
    font-size:22px;
    font-weight:bold;
    color:#f0d58c;
}

/* ===== CARD ===== */
.card{
    width:90%;
    max-width:360px;
    margin:0 auto;
    background:#fff;
    border-radius:22px;
    overflow:hidden;
    color:#000;
}

/* ===== HEADER VÀNG + NGÓC KHUYẾT ===== */
.card-header{
    position:relative;
    background:#ffb703;
    padding:14px 10px 18px;
    font-size:16px;
    color:#fff;
}

.card-header::after{
    content:"";
    position:absolute;
    left:50%;
    bottom:-14px;
    transform:translateX(-50%);
    width:56px;
    height:28px;
    background:#ffb703;
    border-radius:0 0 28px 28px;
}

/* ===== NỘI DUNG ===== */
.content{
    padding:26px 16px 20px;
}

/* DATE TIME */
.datetime{
    font-size:20px;
    font-weight:bold;
    margin-bottom:12px;
}

/* QR */
.qr-wrap{
    position:relative;
    width:260px;
    margin:0 auto;
}

.qr-wrap img{
    width:100%;
    transition:opacity .25s ease, transform .25s ease;
}

/* LOADING */
.loading{
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    background:rgba(255,255,255,.7);
    opacity:0;
    pointer-events:none;
    transition:opacity .2s;
}

.loading.active{
    opacity:1;
}

.spinner{
    width:40px;
    height:40px;
    border:4px solid #ddd;
    border-top-color:#ffb703;
    border-radius:50%;
    animation:spin 0.8s linear infinite;
}

@keyframes spin{
    to{transform:rotate(360deg);}
}

/* REFRESH */
.refresh{
    margin-top:10px;
    font-size:14px;
    color:#888;
    cursor:pointer;
}

/* TIMER */
.timer{
    margin-top:6px;
    font-size:26px;
    font-weight:bold;
    color:#2ecc71;
}

/* NOTE */
.note{
    margin:26px 18px;
    font-size:14px;
    line-height:1.6;
    color:#bfc3d9;
}
</style>
</head>

<body>

<div class="name">
V25101874 (Nguyễn Đức Anh)
</div>

<div class="card">

    <div class="card-header">
        将二维码对准扫描器刷新出场
    </div>

    <div class="content">

        <div class="datetime" id="datetime"></div>

        <div class="qr-wrap">
            <img id="qrImage" src="qr.png">
            <div class="loading" id="loading">
                <div class="spinner"></div>
            </div>
        </div>

        <div class="refresh" onclick="refreshQR()">
            刷新二维码
        </div>

        <div class="timer" id="timer">00:00:00</div>

    </div>
</div>

<div class="note">
尊敬的员工您好，您已进入企业涉密区域，出于企业安全考虑，您的手机摄像头将被禁止拍摄，感谢您的配合。
</div>

<script>
/* ===== DATE TIME ===== */
function updateDateTime(){
    const d=new Date();
    const t=d.getFullYear()+"-"+
        String(d.getMonth()+1).padStart(2,"0")+"-"+
        String(d.getDate()).padStart(2,"0")+" "+
        String(d.getHours()).padStart(2,"0")+":"+
        String(d.getMinutes()).padStart(2,"0")+":"+
        String(d.getSeconds()).padStart(2,"0");
    document.getElementById("datetime").innerText=t;
}
setInterval(updateDateTime,1000);
updateDateTime();

/* ===== TIMER ===== */
let sec=0;
setInterval(()=>{
    sec++;
    document.getElementById("timer").innerText=
        String(Math.floor(sec/3600)).padStart(2,"0")+":"+
        String(Math.floor((sec%3600)/60)).padStart(2,"0")+":"+
        String(sec%60).padStart(2,"0");
},1000);

/* ===== REFRESH QR + LOADING ===== */
function refreshQR(){
    const img=document.getElementById("qrImage");
    const load=document.getElementById("loading");

    load.classList.add("active");
    img.style.opacity="0";
    img.style.transform="scale(0.92)";

    setTimeout(()=>{
        img.src="qr.png?t="+Date.now();
        img.style.opacity="1";
        img.style.transform="scale(1)";
        load.classList.remove("active");
    },600);
}
</script>

</body>
</html>
