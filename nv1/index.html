<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QR Access</title>

<style>
body{
    margin:0;
    background:#2f3448;
    font-family:Arial, sans-serif;
    color:#fff;
    text-align:center;
}

/* NAME */
.name{
    margin:22px 0 14px;
    font-size:22px;
    font-weight:bold;
    color:#f1d38a;
}

/* CARD */
.card{
    width:88%;
    max-width:360px;
    margin:0 auto;
    background:#fff;
    border-radius:22px;
    padding-bottom:24px;
    color:#000;
    position:relative;
}

/* HEADER */
.card-header{
    background:#ffb703;
    color:#fff;
    padding:14px;
    font-size:15px;
    border-radius:22px 22px 0 0;
    position:relative;
}

/* KHUYẾT TRÁI */
.card-header::before{
    content:"";
    position:absolute;
    bottom:-10px;
    left:40px;
    width:20px;
    height:20px;
    background:#fff;
    border-radius:50%;
}

/* KHUYẾT PHẢI */
.card-header::after{
    content:"";
    position:absolute;
    bottom:-10px;
    right:40px;
    width:20px;
    height:20px;
    background:#fff;
    border-radius:50%;
}

/* DATETIME */
.datetime{
    margin:24px 0 14px;
    font-size:22px;
    font-weight:bold;
}

/* QR */
.qr{
    width:260px;
    margin:0 auto;
    position:relative;
}

.qr img{
    width:100%;
    transition:opacity .3s ease;
}

/* LOADING */
.qr-loading{
    position:absolute;
    top:50%;
    left:50%;
    width:32px;
    height:32px;
    margin:-16px;
    border:3px solid rgba(0,0,0,.25);
    border-top-color:#ffb703;
    border-radius:50%;
    animation:spin .8s linear infinite;
    display:none;
}

@keyframes spin{
    to{transform:rotate(360deg);}
}

/* REFRESH */
.refresh{
    margin-top:10px;
    font-size:14px;
    color:#888;
    cursor:pointer;
}

/* TIMER */
.timer{
    margin-top:6px;
    font-size:26px;
    font-weight:bold;
    color:#2ecc71;
}

/* NOTE – 3 DÒNG */
.note{
    margin:26px auto;
    max-width:320px;
    font-size:14px;
    color:#c6c9de;
    line-height:1.9;
}
</style>
</head>

<body>

<div class="name">
V25101874 (Nguyễn Đức Anh)
</div>

<div class="card">

    <div class="card-header">
        将二维码对准扫描器刷新出场
    </div>

    <div class="datetime" id="datetime"></div>

    <div class="qr">
        <img id="qrImage" src="qr.png">
        <div class="qr-loading" id="qrLoading"></div>
    </div>

    <div class="refresh" onclick="refreshQR()">刷新二维码</div>

    <div class="timer" id="timer">05:00:03</div>

</div>

<div class="note">
尊敬的员工您好，您已进入企业涉密区域，<br>
出于企业安全考虑，您的手机摄像头将被禁止拍摄，<br>
感谢您的配合。
</div>

<script>
// DATETIME
function updateDateTime(){
    const d=new Date();
    document.getElementById("datetime").innerText=
        d.getFullYear()+"-"+
        String(d.getMonth()+1).padStart(2,"0")+"-"+
        String(d.getDate()).padStart(2,"0")+" "+
        String(d.getHours()).padStart(2,"0")+":"+
        String(d.getMinutes()).padStart(2,"0")+":"+
        String(d.getSeconds()).padStart(2,"0");
}
setInterval(updateDateTime,1000);
updateDateTime();

// QR LOAD
function refreshQR(){
    const img=document.getElementById("qrImage");
    const load=document.getElementById("qrLoading");

    img.style.opacity="0.35";
    load.style.display="block";

    setTimeout(()=>{
        img.src="qr.png?"+Date.now();
        img.style.opacity="1";
        load.style.display="none";
    },700);
}
</script>

</body>
</html>
