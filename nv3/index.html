<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">

<!-- iOS APP MODE -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="QR Access">

<link rel="apple-touch-icon" href="icon.png">

<meta name="viewport"
      content="width=device-width,
               initial-scale=1.0,
               maximum-scale=1.0,
               user-scalable=no,
               viewport-fit=cover">

<title>QR Access</title>

<style>
html,body{
    margin:0;
    background:#2f3347;
    font-family:Arial,sans-serif;
    color:#fff;
    text-align:center;
    height:100%;
}

/* TÊN */
.name{
    margin:24px 0 14px;
    font-size:21px;
    font-weight:bold;
    color:#f0d58c;
}

/* CARD */
.card{
    width:80%;
    max-width:320px;
    margin:0 auto;
    background:#fff;
    border-radius:22px;
    padding-bottom:24px;
    color:#000;
}

/* HEADER */
.card-header{
    background:#ffb703;
    color:#fff;
    padding:13px 12px;
    font-size:14px;
    border-radius:22px 22px 0 0;
}

/* DATE */
.datetime{
    margin:18px 0 10px;
    font-size:18px;
    font-weight:bold;
}

/* === KHUNG PHỦ QR + TIMER === */
.qr-box{
    margin:0 auto;
    width:260px;
    background:#fff;
    border-radius:18px;
    padding:16px 12px 14px;
}

/* QR */
.qr{
    width:230px;
    margin:0 auto;
}
.qr img{ width:100%; }

/* DÒNG XANH NHẤP NHÁY */
.status{
    margin-top:10px;
    font-size:18px;
    font-weight:bold;
    color:#2ecc71;
    animation:blink 1.5s infinite;
}
@keyframes blink{
    0%{opacity:1}
    50%{opacity:0}
    100%{opacity:1}
}

/* TIMER */
.timer{
    margin-top:6px;
    font-size:22px;
    font-weight:bold;
    color:#2ecc71;
}

/* REFRESH */
.refresh{
    margin-top:10px;
    font-size:14px;
    color:#888;
}

/* NOTE */
.note{
    margin:24px auto;
    max-width:300px;
    font-size:14px;
    color:#bfc3d9;
    line-height:1.8;
    text-align:left;
}
</style>
</head>

<body>

<div class="name">Nguyễn Anh Tuấn (V25092261)</div>

<div class="card">
    <div class="card-header">
        将二维码对准扫描器刷新出场
    </div>

    <div class="datetime" id="datetime"></div>

    <div class="qr-box">
        <div class="qr">
            <img id="qrImage" src="qr.png">
        </div>

        <!-- DÒNG XANH -->
        <div class="status">已生效</div>

        <!-- TIMER -->
        <div class="timer" id="timer">00:00</div>
    </div>

    <div class="refresh" onclick="refreshQR()">刷新二维码</div>
</div>

<div class="note">
    <span>尊敬的员工您好，您已进入企业涉密区域，</span><br>
    <span>出于企业安全考虑，您的手机摄像头将被禁止，</span><br>
    <span>感谢您的配合。</span>
</div>

<script>
// DATETIME
function updateDateTime(){
    const n=new Date();
    document.getElementById("datetime").innerText=
        n.getFullYear()+"-"+
        String(n.getMonth()+1).padStart(2,"0")+"-"+
        String(n.getDate()).padStart(2,"0")+" "+
        String(n.getHours()).padStart(2,"0")+":"+
        String(n.getMinutes()).padStart(2,"0")+":"+
        String(n.getSeconds()).padStart(2,"0");
}
setInterval(updateDateTime,1000);
updateDateTime();

// TIMER LOGIC (KHÔNG ĐỔI)
let seconds=0;
setInterval(()=>{
    seconds++;
    renderTimer();
},1000);

function renderTimer(){
    const m=Math.floor(seconds/60);
    const s=seconds%60;
    document.getElementById("timer").innerText=
        String(m).padStart(2,"0")+":"+
        String(s).padStart(2,"0");
}

// QR REFRESH
function refreshQR(){
    document.getElementById("qrImage").src="qr.png?t="+Date.now();
}
</script>

</body>
</html>
